<template>
  <yk-table
    ref="tableRef"
    :data="dataList"
    @selection-change="handleSelectionChange"
  >
    <yk-table-column type="selection"></yk-table-column>
    <yk-table-column property="name" label="ç”¨æˆ·å"></yk-table-column>
    <yk-table-column property="email" label="é‚®ç®±"></yk-table-column>
    <yk-table-column property="bir" label="ç”Ÿæ—¥"></yk-table-column>
    <yk-table-column property="desc" label="æ“ä½œ">
      <template #default="{ row, index }">
        <yk-button type="secondary" status="primary" @click="handleAdd(row)">
          æ·»åŠ 
        </yk-button>
        <yk-button
          type="outline"
          status="primary"
          style="margin-left: 8px"
          @click="handleDelete(index)"
        >
          åˆ é™¤
        </yk-button>
      </template>
    </yk-table-column>
  </yk-table>
</template>
<script setup lang="ts">
import { reactive , ref } from 'vue'

const tableRef = ref(null)
const dataList = reactive([
  {
    name: 'æµ©å“¥çœ‹æ²Ÿé€š',
    email: 'xigeotmete@qq.com',
    bir: '1994.03.12',
  },
  {
    name: 'Line2',
    email: '',
    bir: '1994.03.12',
  },

  {
    name: 'DFçš„åˆ é™¤æµ‹è¯•',
    email: 'xx',
    bir: '2052.1.1',
    // desc: 'è¿™å¥è¯ä¸çŸ¥é“ å½“è®²ä¸å½“è®²ï¼Œåæ­£å°±æ˜¯æƒ³è®²ä¸€è®²çš„',
  },
  {
    name: 'DFçš„ç¼–è¾‘æµ‹è¯•',
    email: 'nn',
    bir: '2052.1.1',
    // desc: 'è¿™å¥è¯ä¸çŸ¥é“ å½“è®²ä¸å½“è®²ï¼Œåæ­£å°±æ˜¯æƒ³è®²ä¸€è®²çš„',
  },
  {
    name: 'DFIndexæµ‹è¯•',
    email: 'tt',
    bir: '2052.1.1',
    // desc: 'è¿™å¥è¯ä¸çŸ¥é“ å½“è®²ä¸å½“è®²ï¼Œåæ­£å°±æ˜¯æƒ³è®²ä¸€è®²çš„',
  },
])

const handleSelectionChange = (val) => {
  console.log(val)
}
const handleAdd = (e) => {
  console.log('ðŸš€ Add ~ e:', e)
}
const handleDelete = (index) => {
  console.log('ðŸš€ Delete ~ e:', index)
  dataList.splice(index, 1)
  console.log('ðŸš€ ~ handleDelete ~ dataList:', dataList)
}
</script>
