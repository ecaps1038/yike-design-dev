import{d as y,ae as f,c as $,ak as w,T as k,o as l,b as i,X as g,n as b,Z as A,y as x,p as v,r as m,e as h,t as Y,z}from"./index-d235c6f2.js";const c=e=>{if(typeof e=="number")return e;switch(e){case"s":return 24;case"m":return 32;case"l":return 40;case"xl":return 80;default:return 40}},_=e=>{if(typeof e=="number")return e;switch(e){case"circle":return 200;case"square":return 8;default:return 200}},G=["src"],R=y({name:"YkAvatar",__name:"avatar",props:{shape:{default:"circle"},size:{default:40},imgUrl:{}},setup(e){const a=e,n=f("size",void 0),u=f("shape",void 0),o=$(()=>{const t=c(n||a.size);return{width:t+"px",height:t+"px",borderRadius:_(u||a.shape)+"px"}}),s=w();return k(()=>{if(!s.value)return;const t=s.value.clientWidth,r=c(n||a.size);t>r&&(s.value.style.transform=`scale(${r/t-.1})`)}),(t,r)=>(l(),i("div",{class:b(["yk-avatar",A(n)&&"yk-avatar-group"]),style:x(o.value)},[a.imgUrl?(l(),i("img",{key:0,src:t.imgUrl},null,8,G)):(l(),i("span",{key:1,ref_key:"$text",ref:s,class:"yk-avatar-text"},[g(t.$slots,"default")],512))],6))}}),B=y({name:"YkAvatarGroup",__name:"avatar-group",props:{shape:{default:"circle"},size:{default:40},max:{default:3}},setup(e){const a=e;v("size",a.size),v("shape",a.shape);const n=c(a.size)+"px",u=_(a.shape)+"px",o=m(),s=m(0);return k(()=>{let r=o.value;Array.from(r.children).map((p,S)=>{const d=p;d.style.marginRight=-c(a.size)/3+"px",S>=a.max&&(s.value++,d.style.display="none")})}),(r,p)=>(l(),i("div",{ref_key:"$avatarGroup",ref:o,class:"yk-avatar-group"},[g(r.$slots,"default"),h("div",{class:"yk-avatar-group-more",style:x({width:n,height:n,borderRadius:u,display:s.value>1?"flex":"none"})},[h("span",null,"+"+Y(s.value-1),1)],4)],512))}}),W=z(R),C=z(B);export{W as Y,C as a};
