import{d as B,a0 as S,r as $,ak as z,a2 as E,R as N,o as y,e as T,b as t,i as n,w as d,U as k,n as l,W as o,X as _,Z as b,a3 as Y,V as r,t as D,y as F,_ as H,a as L,s as U,m as h,j as v,f as j,a9 as q,x as I}from"./index-f159d33e.js";const R={class:"yk-modal-footer-option"},W=B({name:"YkModal",__name:"modal",props:{title:{default:""},size:{default:"l"},modelValue:{type:Boolean,default:!1},to:{default:"body"},scrollable:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},showMask:{type:Boolean,default:!0},escapable:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},contentHeight:{}},emits:["onCloseModal","update:modelValue","onSubmit"],setup(w,{emit:g}){const s=w,a=S("modal"),i=g,m=$(document.body),c=()=>{i("update:modelValue",!1),i("onCloseModal")};z(()=>{document.body.removeEventListener("keydown",f),document.body.style.overflow=""});const p=()=>{s.modelValue?(s.escapable&&document.body.addEventListener("keydown",f),!s.scrollable&&(document.body.style.overflow="hidden")):document.body.style.overflow="",s.to&&(m.value=V(s.to||"body"))};E(s,()=>{p()}),N(()=>{p()});const f=e=>{e.key==="Escape"&&s.modelValue&&c()},C=()=>{s.closeable&&i("update:modelValue",!1)},V=e=>document.querySelector(e)??document.body,M=()=>{i("onSubmit")};return(e,u)=>(y(),T(q,{to:m.value},[t("div",null,[n(b,{name:"fade",appear:""},{default:d(()=>[k(t("div",{class:l([o(a)("mask"),o(a)({maskBg:e.showMask})])},null,2),[[_,e.modelValue]])]),_:1}),n(b,{name:"zoom-in-top",appear:""},{default:d(()=>[k(t("div",{class:l(o(a)("modal")),onClick:Y(C,["self"])},[t("div",{class:l([o(a)("main"),o(a)({shadow:!s.showMask,[`${e.size}`]:e.size})])},[t("div",{class:l(o(a)("header"))},[r(e.$slots,"header",{},()=>[t("div",{class:l(o(a)("title"))},D(e.title),3)]),t("div",{class:l(o(a)("close")),onClick:c},[n(o(F))],2)],2),n(o(H),{height:e.contentHeight},{default:d(()=>[t("div",{class:l(o(a)("content"))},[r(e.$slots,"default")],2)]),_:3},8,["height"]),e.showFooter?(y(),L("div",{key:0,class:l(o(a)("footer"))},[t("div",R,[r(e.$slots,"footer",{},()=>[n(o(U),{size:"m"},{default:d(()=>[n(o(h),{type:"secondary",onClick:c},{default:d(()=>u[0]||(u[0]=[v(" 取消 ")])),_:1}),n(o(h),{onClick:M},{default:d(()=>u[1]||(u[1]=[v("确定")])),_:1})]),_:1})])])],2)):j("",!0)],2)],2),[[_,e.modelValue]])]),_:3})])],8,["to"]))}}),X=I(W),A=X;export{X as Y,A as _};
