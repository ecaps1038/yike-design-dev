import{a5 as U,a2 as R,aa as Z,r as g,d as z,al as x,R as W,T as X,a0 as $,a1 as q,c as G,ay as J,o as C,a as k,i as P,a3 as S,W as i,w as K,U as Q,n as T,v as ee,f as M,V as te,j as oe,t as ne,X as ae,Z as le,x as se}from"./index-f159d33e.js";function re(n){return n.match(/[A-Z]?[a-z]+|[0-9]+/g)||[]}function V(n){const e=n.parentNode;return e&&e.nodeType==11&&e instanceof ShadowRoot&&e.host?e.host:e&&e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot.parentNode:e}function ie(n){if(window.getComputedStyle(n).display=="none")return;let e=V(n),o=!1;for(;!o;){const a=e.nodeType==1?window.getComputedStyle(e):{};if(a.display=="none")return;if(e==document)o=!0;else if(e!=document.body&&e!=document.documentElement&&a.overflow!="visible")break;e=V(e)}return e}function ue(n,e,o,a){let t;W(()=>{t=new IntersectionObserver(([s])=>{e(s)},{...o,root:a?ie(n.value):null}),n.value&&t.observe(n.value)}),X(()=>{t.unobserve(n.value),t.disconnect()})}function ce(n){const e=g(["",""]);let o=0;return ue(n,a=>{const{left:t,right:s,top:p,bottom:u}=a.intersectionRect,{left:c,right:v,top:m,bottom:h}=a.rootBounds;if(!(a.time-o<100)){if(o=a.time,a.intersectionRatio==1||a.intersectionRatio==0){e.value[0]="",e.value[1]="";return}t<=c&&s>=v||t==0&&s==0?e.value[0]="":t<=c?e.value[0]="left":s>=v?e.value[0]="right":e.value[0]="",u>=h&&p<=m||p==0&&u==0?e.value[1]="":u>=h?e.value[1]="bottom":p<=m?e.value[1]="top":e.value[1]=""}},{threshold:[0,.25,.5,.75,1]},!0),e}function fe(n,e){const o=ce(n),a=re(e),t=U([...a]);return R(o,()=>{switch(a[0]){case"top":case"bottom":o.value[1]=="top"?t[0]="bottom":o.value[1]=="bottom"&&(t[0]="top");break;case"left":case"right":o.value[0]=="left"?t[0]="right":o.value[0]=="right"&&(t[0]="left");break}switch(a[1]){case"Left":case"Right":o.value[0]=="left"?t[1]="Left":o.value[0]=="right"&&(t[1]="Right");break;case"Top":case"Bottom":o.value[1]=="top"?t[1]="Top":o.value[1]=="bottom"&&(t[1]="Bottom");break}},{deep:!0,immediate:!0}),t}function pe(){const n=Z();return z((o,a)=>()=>{const t=n.default?n.default():[x("span",{},"tooltip")];return t.length>1&&console.error(new Error("Component can only have one root element, but you have used multiple root elements")),t[0]=x(t[0],{...o,...a.attrs}),t},{inheritAttrs:!1})}const de=z({name:"YkTooltip",__name:"tooltip",props:{title:{default:"hello"},open:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},placement:{default:"top"},trigger:{default:"hover"},animation:{default:"show"},openDelay:{default:0},closeDelay:{default:300},overlayClass:{default:""},overlayStyle:{type:[Boolean,null,String,Object,Array],default:()=>({})},autoAdjustOverflow:{type:Boolean,default:!1},destroyTooltipOnHide:{type:Boolean,default:!1},zIndex:{}},emits:["update:open","openChange"],setup(n,{emit:e}){const o=$("tooltip"),a=e,t=pe(),s=n,{arrow:p,placement:u,trigger:c,animation:v,openDelay:m,closeDelay:h,overlayClass:O,overlayStyle:j,autoAdjustOverflow:B,destroyTooltipOnHide:A}=q(s),D=g(),N=g(),r=g(s.open);R(()=>s.open,l=>r.value=l),R(r,l=>a("update:open",l));const I=o("content"),E=fe(N,u.value),H=G(()=>{const l=[I,O.value,B.value||u.value];return B.value&&l.push(E.join("")),l}),_=(()=>{let l;return function(f){if(clearTimeout(l),c.value==="none"||r.value===f)return;l=setTimeout(()=>{r.value=f,a("openChange",r.value)},(f?m:h).value)}})(),d=()=>_(!0),b=()=>_(!1);J(D,()=>{r.value&&b()});function w(l){y("hover")&&(l.type==="mouseenter"?d():b())}function L(){y("click")&&(r.value?b():d())}function Y(){y("contextmenu")&&d()}function F(){y("focus")&&d()}function y(l){return c.value===l||c.value.includes(l)}return(l,f)=>(C(),k("div",{ref_key:"tooltipRef",ref:D,class:T(i(o)())},[P(i(t),{onFocus:F,onMouseenter:w,onMouseleave:w,onClick:S(L,["stop"]),onContextmenu:S(Y,["prevent"])}),P(le,{name:i(v)},{default:K(()=>[i(A)&&!r.value?M("",!0):Q((C(),k("div",{key:0,ref_key:"popperRef",ref:N,class:T(H.value),style:ee([i(j),{zIndex:l.zIndex}]),onClick:f[0]||(f[0]=S(()=>{},["stop"])),onMouseenter:d,onMouseleave:w},[i(p)?(C(),k("div",{key:0,class:T(i(o)("arrow"))},null,2)):M("",!0),te(l.$slots,"content",{},()=>[oe(ne(l.title),1)])],38)),[[ae,r.value]])]),_:3},8,["name"])],2))}}),ve=se(de),ye=ve;export{ve as Y,ye as _,pe as u};
