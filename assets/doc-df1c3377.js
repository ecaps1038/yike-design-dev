import{d as _,a0 as ae,aj as S,c as R,r as p,R as ne,a2 as oe,S as se,aA as re,o as m,a as h,v as O,n as y,W as A,t as q,f as F,b as e,i,y as ue,x as ie,e as x,g as L,w as u,j as c}from"./index-f159d33e.js";const C=r=>Number(r.replace("px","")),de=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],ce=r=>{const n={};return de.forEach(l=>{n[l]=r.getPropertyValue(l)}),n},pe=r=>{const n=C(r.getPropertyValue("padding-top")),l=C(r.getPropertyValue("padding-bottom")),t=C(r.getPropertyValue("border-width"));return{pt:n,pb:l,bw:t}},me={key:1,class:"word-limit"},fe=["value","placeholder","disabled"],ve=_({name:"YkTextArea",__name:"text-area",props:{disabled:{type:Boolean},modelValue:{},clearable:{type:Boolean},placeholder:{},maxLength:{default:0},showWordLimit:{type:Boolean},autoSize:{}},emits:["update:modelValue","input","change","clear","focus","blur"],setup(r,{emit:n}){const l=ae("text-area"),t=r,o=S(),d=S(),P=S(),f=n,v=R(()=>t.modelValue),g=p(!1),G=a=>{g.value=!0,f("focus",a)},J=a=>{g.value=!1,f("blur",a)},K=R(()=>t.clearable&&v.value),Q=()=>{f("clear",""),$(""),f("update:modelValue","")},$=a=>{t.modelValue!==a&&!g.value&&f("change",a)},X=R(()=>t.showWordLimit?`${v.value?v.value.toString().length:0}/${t.maxLength}`:""),w=p(!1),k=a=>{const{value:s}=a.target;a.type==="compositionend"?(w.value=!1,H(s)):w.value=!0},H=a=>{let s=a;t.maxLength&&a.length>t.maxLength&&(s=a.slice(0,Math.max(0,t.maxLength)),o.value.value=s),$(s),f("input",s),f("update:modelValue",s)},Z=async a=>{if(w.value)return;const{value:s}=a.target;H(s)},N=p(),V=p(0);let b;const T=p();ne(()=>{b=getComputedStyle(o.value,null),t.autoSize&&(T.value=ce(b)),V.value=C(b.getPropertyValue("line-height")),D()}),oe(()=>t.modelValue,()=>D());const D=async()=>{var j,M;if(!t.autoSize)return;await se();let a,s,I="hidden";const U=(j=t.autoSize)==null?void 0:j.minRows,W=(M=t.autoSize)==null?void 0:M.maxRows,{pt:ee,pb:te,bw:le}=pe(b),Y=ee+te+le,z=P.value.offsetHeight;U&&(a=V.value*U+Y),W&&(s=V.value*W+Y);let B=z??0;a&&z<a&&(B=a),s&&z>s&&(B=s,I="auto"),N.value={height:`${B}px`,resize:t.autoSize?"none":"vertical",overflow:I}};return re(o,D),(a,s)=>(m(),h("div",{ref_key:"containerRef",ref:d,class:y(A(l)({focus:g.value},{disabled:t.disabled}))},[t.autoSize?(m(),h("div",{key:0,ref_key:"contentRef",ref:P,style:O(T.value),class:y([A(l)("content")])},q(v.value),7)):F("",!0),t.showWordLimit?(m(),h("span",me,q(X.value),1)):F("",!0),e("textarea",{ref_key:"textAreaRef",ref:o,value:v.value,rows:"5",cols:"",placeholder:t.placeholder,class:y([A(l)("inner",{autoSize:!!(t!=null&&t.autoSize)})]),disabled:t.disabled,style:O(N.value),onFocus:G,onBlur:J,onInput:Z,onCompositionstart:k,onCompositionupdate:k,onCompositionend:k},null,46,fe),K.value&&!a.disabled?(m(),h("button",{key:2,"aria-label":"清空内容",class:y([A(l)("button")]),onClick:Q},[i(A(ue))],2)):F("",!0)],2))}}),Ae=ie(ve),E=Ae,_e=_({__name:"text-area-primary",setup(r){const n=p("");return(l,t)=>{const o=E;return m(),x(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),clearable:"",placeholder:"请输入..."},null,8,["modelValue"])}}}),xe=_({__name:"text-area-status",setup(r){const n=p("");return(l,t)=>{const o=E;return m(),x(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),clearable:"",placeholder:"请输入...",disabled:""},null,8,["modelValue"])}}}),ge=_({__name:"text-area-limit",setup(r){const n=p("");return(l,t)=>{const o=E;return m(),x(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),clearable:"",placeholder:"请输入...","show-word-limit":"","max-length":10},null,8,["modelValue"])}}}),be=_({__name:"text-area-auto",setup(r){const n=p("");return(l,t)=>{const o=E;return m(),x(o,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),clearable:"",placeholder:"请输入...","auto-size":{minRows:4,maxRows:10}},null,8,["modelValue"])}}}),ye={__name:"doc",setup(r){return(n,l)=>{const t=L("yk-title"),o=L("yk-snippet"),d=L("DocPage");return m(),x(d,null,{default:u(()=>[i(t,{level:2,id:"YkTextArea-文本域"},{default:u(()=>l[0]||(l[0]=[c("YkTextArea 文本域")])),_:1}),i(o,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%20v-model%3D%22val%22%20clearable%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[i(_e)]),desc:u(()=>l[1]||(l[1]=[e("p",null,"可以用于多行输入",-1)])),_:1}),i(o,{title:"文本域状态",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%0A%20%20%20%20v-model%3D%22val%22%0A%20%20%20%20clearable%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0A%20%20%20%20disabled%0A%20%20%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[i(xe)]),desc:u(()=>l[2]||(l[2]=[e("p",null,"文本域可以设置禁用状态。",-1)])),_:1}),i(o,{title:"字数统计",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%0A%20%20%20%20v-model%3D%22val%22%0A%20%20%20%20clearable%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0A%20%20%20%20show-word-limit%0A%20%20%20%20%3Amax-length%3D%2210%22%0A%20%20%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[i(ge)]),desc:u(()=>l[3]||(l[3]=[e("p",null,[c("设置 "),e("code",null,"max-length"),c(" 可以限制最大字数，配合 "),e("code",null,"show-word-limit"),c(" 可以显示字数统计。")],-1)])),_:1}),i(o,{title:"高度自适应",code:"%3Ctemplate%3E%0A%20%20%3Cyk-text-area%0A%20%20%20%20v-model%3D%22val%22%0A%20%20%20%20clearable%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E8%BE%93%E5%85%A5...%22%0A%20%20%20%20%3Aauto-size%3D%22%7B%0A%20%20%20%20%20%20minRows%3A%204%2C%0A%20%20%20%20%20%20maxRows%3A%2010%2C%0A%20%20%20%20%7D%22%0A%20%20%3E%3C%2Fyk-text-area%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20val%20%3D%20ref('')%0A%3C%2Fscript%3E%0A"},{demo:u(()=>[i(be)]),desc:u(()=>l[4]||(l[4]=[e("p",null,[c("通过设置 "),e("code",null,"auto-size"),c("，可以让文本框自适应输入内容。")],-1)])),_:1}),i(t,{level:3,id:"API"},{default:u(()=>l[5]||(l[5]=[c("API")])),_:1}),i(t,{level:4,id:"textarea-属性"},{default:u(()=>l[6]||(l[6]=[c("textarea 属性")])),_:1}),l[8]||(l[8]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"modelValue"),e("td",null,"绑定值"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"clearable"),e("td",null,"是否可置空"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"placeholder"),e("td",null,"占位文字"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"maxLength"),e("td",null,"最大限制长度"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"showWordLimit"),e("td",null,"是否显示字数统计"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"autoSize"),e("td",null,"高度自适应配置"),e("td",null,"{minRows:number,maxRows:number}"),e("td",null,"-")])])])],-1)),i(t,{level:4,id:"textarea-事件"},{default:u(()=>l[7]||(l[7]=[c("textarea 事件")])),_:1}),l[9]||(l[9]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"事件"),e("th",null,"描述")])]),e("tbody",null,[e("tr",null,[e("td",null,"input"),e("td",null,"文本域聚焦时触发")]),e("tr",null,[e("td",null,"change"),e("td",null,"值改变时触发")]),e("tr",null,[e("td",null,"clear"),e("td",null,"置空时触发")]),e("tr",null,[e("td",null,"focus"),e("td",null,"聚焦时触发")]),e("tr",null,[e("td",null,"blur"),e("td",null,"失焦时触发")])])])],-1))]),_:1})}}};export{ye as default};
