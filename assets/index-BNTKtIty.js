import{d as g,a0 as Y,r as z,ai as E,a2 as N,Q as T,o as y,e as $,b as t,i as d,w as n,U as k,V as b,n as l,X as o,Z as h,a3 as I,W as c,t as D,I as F,Y as H,a as L,s as U,m as v,j as w,f as j,a7 as q,x as O}from"./index-Du6vcQYg.js";const Q={class:"yk-modal-footer-option"},W=g({name:"YkModal",__name:"modal",props:{title:{default:""},size:{default:"l"},modelValue:{type:Boolean,default:!1},to:{default:"body"},scrollable:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},showMask:{type:Boolean,default:!0},escapable:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},contentHeight:{}},emits:["onCloseModal","update:modelValue","onSubmit"],setup(C,{emit:V}){const s=C,a=Y("modal"),i=V,m=z(document.body),u=()=>{i("update:modelValue",!1),i("onCloseModal")};E(()=>{document.body.removeEventListener("keydown",p),document.body.style.overflow=""});const f=()=>{s.modelValue?(s.escapable&&document.body.addEventListener("keydown",p),!s.scrollable&&(document.body.style.overflow="hidden")):document.body.style.overflow="",s.to&&(m.value=M(s.to||"body"))};N(s,()=>{f()}),T(()=>{f()});const p=e=>{e.key==="Escape"&&s.modelValue&&u()},B=()=>{s.closeable&&i("update:modelValue",!1)},M=e=>document.querySelector(e)??document.body,S=()=>{i("onSubmit")};return(e,r)=>(y(),$(q,{to:m.value},[t("div",null,[d(h,{name:"fade",appear:""},{default:n(()=>[k(t("div",{class:l([o(a)("mask"),o(a)({maskBg:e.showMask})])},null,2),[[b,e.modelValue]])]),_:1}),d(h,{name:"zoom-in-top",appear:""},{default:n(()=>[k(t("div",{class:l(o(a)("modal")),onClick:I(B,["self"])},[t("div",{class:l([o(a)("main"),o(a)({shadow:!s.showMask,[`${e.size}`]:e.size})])},[t("div",{class:l(o(a)("header"))},[c(e.$slots,"header",{},()=>[t("div",{class:l(o(a)("title"))},D(e.title),3)]),t("div",{class:l(o(a)("close")),onClick:u},[d(o(F))],2)],2),d(o(H),{height:e.contentHeight},{default:n(()=>[t("div",{class:l(o(a)("content"))},[c(e.$slots,"default")],2)]),_:3},8,["height"]),e.showFooter?(y(),L("div",{key:0,class:l(o(a)("footer"))},[t("div",Q,[c(e.$slots,"footer",{},()=>[d(o(U),{size:"m"},{default:n(()=>[d(o(v),{type:"secondary",onClick:u},{default:n(()=>r[0]||(r[0]=[w(" 取消 ")])),_:1}),d(o(v),{onClick:S},{default:n(()=>r[1]||(r[1]=[w("确定")])),_:1})]),_:1})])])],2)):j("",!0)],2)],2),[[b,e.modelValue]])]),_:3})])],8,["to"]))}}),Z=O(W);export{Z as Y};
