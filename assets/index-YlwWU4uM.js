import{d as F,r as w,ab as R,c as r,a2 as j,o as h,a as _,b as g,n as V,W as B,t as G,a0 as I,a1 as K,a8 as E,p as L,a5 as O,e as A,w as D,h as P,F as Y,X as C,v as T,N as U,j as W,x as M}from"./index-Du6vcQYg.js";import{u as X}from"./use-form-item-BrR5f3U-.js";const N=Symbol("checkboxGroupContextKey"),z=a=>typeof a=="boolean"?a:!!a.toString(),S=a=>Array.isArray(a),q=a=>typeof a>"u",H=a=>{if(typeof a=="number")return a;switch(a){case"s":return 4;case"m":return 8;case"l":return 16;case"xl":return 24;default:return 16}},J=a=>a=="vertical"?"column":"row",Q=["disabled","checked"],d="yk-checkbox",Z=F({name:"YkCheckbox",__name:"checkbox",props:{defaultChecked:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean},value:{}},emits:["change","update:checked"],setup(a,{emit:$}){const t=a,l=$,f=w(),n=R(N,void 0),v=r(()=>!!n),i=w(t.defaultChecked),u=r(()=>{const s=t.checked??i.value;return v.value?n==null?void 0:n.calcVal:s}),p=r(()=>v.value&&S(u.value)?u.value.includes(t.value):z(u.value)),c=r(()=>(n==null?void 0:n.disabled)||t.disabled||!i.value&&(n==null?void 0:n.isMax)),k=s=>{const{checked:m}=s.target;i.value=m;let b;if(v.value&&S(u.value)){const e=new Set(u.value);m?e.add(t.value??!0):e.delete(t.value??!0),b=Array.from(e),n==null||n.handleChange(b)}else l("update:checked",m),l("change",m)};j(()=>t.checked,s=>{i.value=q(s)?!1:z(s),f.value&&(f.value.checked=i.value)});const x=s=>{s.stopPropagation()},y=r(()=>({[`${d}-wrap`]:!0,[`${d}--active`]:p.value&&!t.indeterminate,[`${d}--normal`]:!p.value&&!c.value&&!t.indeterminate,[`${d}--indeterminate`]:t.indeterminate,"indeterminate--checked":t.indeterminate,"yk-disabled":c.value,[`${d}--common`]:!t.indeterminate,"yk-show-shadow":p.value||t.indeterminate}));return(s,m)=>(h(),_("label",{class:V([d,c.value&&`${d}--disabled`])},[g("input",{ref_key:"checkboxRef",ref:f,type:"checkbox",class:V([`${d}-target`]),disabled:c.value,checked:p.value,onChange:k,onClick:x},null,42,Q),g("div",{class:V(y.value)},null,2),g("div",null,[B(s.$slots,"default",{},()=>[g("span",null,G(s.value),1)])])],2))}}),ee=F({name:"YkCheckboxGroup",__name:"checkbox-group",props:{modelValue:{},defaultValue:{default:()=>[]},disabled:{type:Boolean,default:!1},max:{},tag:{default:"div"},direction:{default:"horizontal"},options:{default:()=>[]},gap:{default:"l"},size:{default:"l"}},emits:["change","update:modelValue"],setup(a,{emit:$}){const t=I("checkbox-group"),l=a,{size:f,disabled:n}=K(l),{mergedSize:v,mergedDisabled:i}=X({size:f,disabled:n}),u=$,p=E(),c=w(l.defaultValue),k=r(()=>S(l.modelValue)?l.modelValue:c.value),x=e=>{c.value=e,u("update:modelValue",e),u("change",e)},y=r(()=>l.options.map(e=>typeof e=="number"||typeof e=="string"?{value:e,label:e}:e)),s=r(()=>l.max===void 0?!1:k.value.length>=l.max),m=r(()=>Array.isArray(l.gap)?{rowGap:`${l.gap[1]}px`,columnGap:`${l.gap[0]}px`}:{gap:`${H(l.gap)}px`}),b=r(()=>({flexDirection:J(l.direction),...m.value}));return L(N,O({name:"YkCheckboxGroup",calcVal:k,disabled:i,handleChange:x,isMax:s})),(e,te)=>(h(),A(U(e.tag),{class:V(C(t)([e.direction,C(v)])),style:T(b.value)},{default:D(()=>[y.value.length?(h(!0),_(Y,{key:0},P(y.value,o=>(h(),A(C(ae),{key:o.value,checked:c.value.includes(o.value),value:o.value,disabled:o.disabled,indeterminate:o.indeterminate},{default:D(()=>[C(p).label?B(e.$slots,"label",{key:0,data:o}):(h(),_(Y,{key:1},[W(G((o==null?void 0:o.label)??o.value),1)],64))]),_:2},1032,["checked","value","disabled","indeterminate"]))),128)):B(e.$slots,"default",{key:1})]),_:3},8,["class","style"]))}}),ae=M(Z),se=M(ee);export{ae as Y,se as a};
