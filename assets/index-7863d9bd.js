import{d as y,ee as f,c as $,en as w,dC as x,o as l,b as i,dH as g,n as b,dx as A,dG as k,p as v,r as m,e as h,t as G,dL as z}from"./index-2e6203f3.js";const c=e=>{if(typeof e=="number")return e;switch(e){case"s":return 24;case"m":return 32;case"l":return 40;case"xl":return 80;default:return 40}},_=e=>{if(typeof e=="number")return e;switch(e){case"circle":return 200;case"square":return 8;default:return 200}};const Y=["src"],R=y({name:"YkAvatar",__name:"avatar",props:{shape:{default:"circle"},size:{default:40},imgUrl:{}},setup(e){const a=e,n=f("size",void 0),u=f("shape",void 0),o=$(()=>{const t=c(n||a.size);return{width:t+"px",height:t+"px",borderRadius:_(u||a.shape)+"px"}}),s=w();return x(()=>{if(!s.value)return;const t=s.value.clientWidth,r=c(n||a.size);t>r&&(s.value.style.transform=`scale(${r/t-.1})`)}),(t,r)=>(l(),i("div",{class:b(["yk-avatar",A(n)&&"yk-avatar-group"]),style:k(o.value)},[a.imgUrl?(l(),i("img",{key:0,src:t.imgUrl},null,8,Y)):(l(),i("span",{key:1,ref_key:"$text",ref:s,class:"yk-avatar-text"},[g(t.$slots,"default")],512))],6))}}),B=y({name:"YkAvatarGroup",__name:"avatar-group",props:{shape:{default:"circle"},size:{default:40},max:{default:3}},setup(e){const a=e;v("size",a.size),v("shape",a.shape);const n=c(a.size)+"px",u=_(a.shape)+"px",o=m(),s=m(0);return x(()=>{let r=o.value;Array.from(r.children).map((p,S)=>{const d=p;d.style.marginRight=-c(a.size)/3+"px",S>=a.max&&(s.value++,d.style.display="none")})}),(r,p)=>(l(),i("div",{ref_key:"$avatarGroup",ref:o,class:"yk-avatar-group"},[g(r.$slots,"default"),h("div",{class:"yk-avatar-group-more",style:k({width:n,height:n,borderRadius:u,display:s.value>1?"flex":"none"})},[h("span",null,"+"+G(s.value-1),1)],4)],512))}}),U=z(R),W=z(B);export{U as Y,W as a};
