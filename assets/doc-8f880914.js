import{$ as j,d as I,a0 as W,a1 as ue,r as C,c as N,a2 as se,R as he,o as A,a as w,b as e,n as g,W as t,a3 as O,i as c,a4 as ve,t as Q,e as $,N as ge,f as y,w as D,a5 as Ee,m as we,j as U,Y as Ce,F as oe,h as re,a6 as _e,L as De,x as Fe,g as ne}from"./index-f159d33e.js";import{Y as ce}from"./index-3bfc2816.js";import{c as be,g as ke,f as Ue,I as ye,a as Be,j as Re,i as xe,e as $e,b as Ie,h as pe,d as Le}from"./index-f5101c54.js";import{_ as Ae}from"./index-6db5e638.js";import{a as Me,b as Ye,I as Se,_ as Oe}from"./index-8d1ccba2.js";import{I as Pe}from"./index-30b41dd5.js";import{I as Ve}from"./index-6c2d556e.js";import{_ as K}from"./index-182c7002.js";import{_ as Xe}from"./index-ec9e9cd0.js";import{_ as He}from"./index-fd413ff3.js";import{Y as ze,_ as je}from"./index-5960d2d2.js";import{Y as Ne}from"./index-9cefc7bf.js";import"./index-61e83363.js";import"./index-5cf6288e.js";import"./index-6266b2eb.js";const Te=["image","jpeg","png","gif"],We=({uid:f,uploadUrl:m,selectedFile:l,onSuccess:s,onError:n,onProgress:E})=>{const p=new XMLHttpRequest,F=new FormData;F.append("file",l);try{p.open("POST",m,!0)}catch{n(f,"上传失败、请求地址有误")}return p.upload.onprogress=v=>{if(v.lengthComputable){const _=v.loaded/v.total*100;E(f,_)}},p.onload=function(){if(p.status===200){const v=JSON.parse(p.responseText);v.error||v.err?n(f,v):s(f,v)}},p.onerror=function(){n(f,p.responseText)},p.send(F),{abort(){p.abort()}}};function me(f,m,l,s){const n=s/100*Math.PI*2,E=f+l*Math.sin(n),p=m-l*Math.cos(n);return`M${f},${m} L${f},${m-l} A${l},${l} 0 ${n<Math.PI?"0":"1"},1 ${E},${p} Z`}function ie(f){return f.map(l=>({uid:j(),status:"success",...l}))}function V(f,m){return m.findIndex(l=>f===l.uid)}function de(f,m){return new File([f],m,{type:f.type})}const fe=I({__name:"crop-picture",props:{fileContent:{}},setup(f,{expose:m}){const l={isDragging:!1,startX:0,startY:0,clientX:0,clientY:0,deltaX:0,deltaY:0},s=W("image-crop"),n=f,{fileContent:E}=ue(n),p=C(),F=C(),v=C(.5),_=C(50),B=C(50),r=C(0),R=C(0),b=new Image;b.crossOrigin="Anonymous";const x=C(0),M=C(0),P=N(()=>{var u;const d=(u=E.value)==null?void 0:u.raw;return d?URL.createObjectURL(d):""});se(()=>_.value,d=>{r.value=d/100,k()}),se(()=>B.value,d=>{R.value=Math.max(Math.min(180,(d-50)*3.8),-180),k()});const L=()=>{var h;const d=p.value,u=d.getContext("2d");b.src=(((h=E.value)==null?void 0:h.url)||P.value)??"",b.onload=()=>{const a=b.width/b.height;M.value=300,x.value=Math.min(M.value*a,700),d.width=x.value,d.height=M.value,r.value=Math.min(M.value/b.height,1),v.value=r.value,_.value=v.value*100,u.drawImage(b,0,0,b.width*r.value,b.height*r.value),Y()}},k=()=>{const d=p.value,u=d.getContext("2d");u.clearRect(0,0,d.width,d.height);const h=l.clientX+l.deltaX,a=l.clientY+l.deltaY,o=d.width/2,i=d.height/2,S=R.value*Math.PI/180;u.translate(o,i),u.rotate(S),u.translate(-o,-i),u.drawImage(b,h,a,b.width*r.value,b.height*r.value),u.setTransform(1,0,0,1,0,0),Y()},Y=()=>{const d=p.value,u=d.getContext("2d"),h=240,a=(d.width-h)/2,o=(d.height-h)/2;u.strokeStyle="rgba(255,255,255,0.5)",u.lineWidth=2,u.strokeRect(a,o,h,h),u.fillStyle="rgba(0, 0, 0, 0.5)",u.fillRect(0,0,d.width,o),u.fillRect(0,o+h,d.width,d.height-(o+h)),u.fillRect(0,o,a,h),u.fillRect(a+h,o,d.width-(a+h),h)},T=()=>{R.value=Math.min(180,15+R.value),B.value=Math.max(Math.min(50+R.value*3.8/15,100),0)},ee=()=>{R.value=Math.max(-180,R.value-15),B.value=Math.max(Math.min(50+R.value*3.8/15,100),0)},q=()=>{_.value=Math.max(_.value-1,0),k()},H=()=>{_.value=Math.min(_.value+1,100),k()},G=d=>{const{clientX:u,clientY:h}=d;l.isDragging=!0,l.startX=u,l.startY=h},le=d=>{if(!l.isDragging)return;const{clientX:u,clientY:h}=d;l.deltaX=u-l.startX,l.deltaY=h-l.startY,k()},z=ve(d=>{var u=Math.max(-1,Math.min(1,d.wheelDelta||-d.detail));u<0?q():H()},5),J=d=>{l.isDragging=!1;const{clientX:u,clientY:h}=d,a=u-l.startX,o=h-l.startY;l.clientX+=a,l.clientY+=o,l.deltaX=0,l.deltaY=0};he(()=>{L()});const Z=async()=>{const d=p.value,u=240,h=(d.width-u)/2,a=(d.height-u)/2,o=document.createElement("canvas");o.width=u,o.height=u,o.getContext("2d").drawImage(d,h,a,u,u,0,0,u,u);let S;return await te(o).then(function(ae){S=ae}),{blobRaw:S,uid:E.value.uid}},te=d=>new Promise(function(u,h){d.toBlob(function(a){u(a)},"image/jpeg",.8)});return m({handleCrop:Z}),(d,u)=>(A(),w("div",{class:g(t(s)())},[e("div",{ref_key:"canvasContainer",ref:F,class:g(t(s)("canvas-container")),onMousedown:O(G,["prevent"]),onMousemove:O(le,["prevent"]),onMouseup:O(J,["prevent"]),onWheel:u[0]||(u[0]=O((...h)=>t(z)&&t(z)(...h),["stop"])),onMousewheel:u[1]||(u[1]=O((...h)=>t(z)&&t(z)(...h),["stop"]))},[e("canvas",{ref_key:"canvasRef",ref:p},null,512)],34),e("div",{class:g(t(s)("operate"))},[e("div",{class:g(t(s)("operate-left"))},[c(t(be),{onClick:O(q,["stop"])}),c(t(ce),{modelValue:_.value,"onUpdate:modelValue":u[2]||(u[2]=h=>_.value=h),class:g(t(s)("scale-bar"))},null,8,["modelValue","class"]),c(t(Ae),{onClick:O(H,["stop"])})],2),e("div",{class:g(t(s)("operate-right"))},[c(t(Me),{onClick:ee}),c(t(ce),{modelValue:B.value,"onUpdate:modelValue":u[3]||(u[3]=h=>B.value=h),class:g(t(s)("scale-bar"))},null,8,["modelValue","class"]),c(t(Ye),{onClick:T})],2)],2)],2))}}),qe=I({__name:"upload-draggle",props:{desc:{default:""},disabled:{type:Boolean,default:!1},accept:{default:"*"}},emits:["handleUpload","handleDraggleFiles"],setup(f,{emit:m}){const l=f,s=m,n=W("upload-draggle"),E=C(!1),p=_=>{if(l.disabled)return;E.value=!1,_.stopPropagation();const B=Array.from(_.dataTransfer.files);s("handleDraggleFiles",B)},F=()=>{l.disabled||(E.value=!0)},v=()=>{s("handleUpload")};return(_,B)=>(A(),w("div",{class:g(t(n)()),onDrop:O(p,["prevent"]),onDragover:O(F,["prevent"]),onClick:v},[c(t(ke),{class:g(t(n)("icon"))},null,8,["class"]),e("span",{class:g(t(n)("methods"))},"单击或拖动文件到此区域进行上传",2),e("span",{class:g(t(n)("desc"))},Q(_.desc),3)],34))}}),Ge={width:"14",height:"14"},Je=["d"],Ze=I({__name:"upload-file-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:j()})},shape:{},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload"],setup(f,{emit:m}){const l=f,s=W("upload-file"),{status:n,name:E,uid:p}=ue(l.fileContent),F=m,v=N(()=>R(E.value)),_=()=>{F("handleAbort",p.value)},B=()=>{F("handleRemove",p.value)},r=()=>{F("handleReUpload",p.value)},R=b=>{var M;switch((M=b.split(".").pop())==null?void 0:M.toLowerCase()){case"jpg":case"png":case"jpeg":case"gif":return Ie;case"pdf":return $e;case"mp4":case"mkv":return xe;case"doc":case"docx":return Re;case"xls":case"xlsx":return Be;case"ppt":case"pptx":return Ve;case"wmv":case"mp3":return ye;case"txt":return Ue;default:return Pe}};return(b,x)=>(A(),w("div",{class:g(t(s)())},[e("div",{class:g(t(s)("main"))},[e("div",{class:g(t(s)("left"))},[(A(),$(ge(v.value),{class:"annex-yk-icon"})),e("span",{class:g(t(s)(t(n)))},Q(t(E)),3)],2),e("div",{class:g(t(s)("right"))},[t(n)!=="uploading"?(A(),$(t(K),{key:0,class:"delete-yk-icon",onClick:B})):y("",!0),"success".includes(t(n))?(A(),$(t(Xe),{key:1,class:"success-yk-icon"})):y("",!0),["error","pause"].includes(t(n))?(A(),$(t(He),{key:2,class:"re-upload-yk-icon",onClick:r})):y("",!0),["uploading"].includes(t(n))?(A(),w("div",{key:3,class:"abort-yk-icon-container",onClick:_},[(A(),w("svg",Ge,[x[0]||(x[0]=e("circle",{cx:"7",cy:"7",r:"7",class:"uploading-bg","fill-opacity":"0.6"},null,-1)),e("path",{d:t(me)(7,7,7,b.progress),class:"uploading-bg"},null,8,Je)]))])):y("",!0)],2)],2)],2))}}),Ke=["src"],Qe={width:"36",height:"36"},el=["d"],ll={key:2,class:"upload-icon fail-icon"},tl={key:3,class:"hover-icons"},al={key:4,class:"hover-icons"},ol={key:5,class:"hover-icons"},nl=I({__name:"upload-picture-item",props:{progress:{default:0},fileContent:{default:()=>({status:"success",name:"",uid:j(),avatar:!1})},shape:{default:"default"},avatar:{type:Boolean}},emits:["handleAbort","handleRemove","handleReUpload","handleEdit","handleReview"],setup(f,{emit:m}){const l=f,s=W("upload-picture"),{status:n,uid:E,raw:p,url:F}=ue(l.fileContent),v=C(!1),_=C(),B=N(()=>p!=null&&p.value?URL.createObjectURL(p.value):""),r=m,R=()=>{r("handleReview",E.value)},b=()=>{r("handleAbort",E.value)},x=()=>{r("handleRemove",E.value)},M=()=>{r("handleReUpload",E.value)},P=()=>{v.value=!0},L=async()=>{const{blobRaw:k,uid:Y}=await _.value.handleCrop();r("handleEdit",k,Y),v.value=!1};return(k,Y)=>(A(),w("div",{class:g(t(s)([k.shape]))},[B.value||t(F)?(A(),w("img",{key:0,src:t(F)||B.value,alt:""},null,8,Ke)):y("",!0),e("div",{class:g(t(s)("overlay-hover",[t(n)]))},null,2),t(n)==="uploading"?(A(),w("div",{key:1,class:"upload-icon uploading-icons",onClick:b},[(A(),w("svg",Qe,[Y[1]||(Y[1]=e("circle",{cx:"18",cy:"18",r:"18","fill-opacity":"0.5"},null,-1)),e("path",{d:t(me)(18,18,18,k.progress),class:"progress-path"},null,8,el)]))])):y("",!0),["error","pause"].includes(t(n))?(A(),w("div",ll,[c(t(Se))])):y("",!0),["error","pause"].includes(t(n))?(A(),w("div",tl,[c(t(pe),{onClick:M}),c(t(K),{onClick:x})])):y("",!0),t(n)==="success"&&!k.avatar?(A(),w("div",al,[c(t(Oe),{onClick:R}),c(t(K),{onClick:x})])):y("",!0),t(n)==="success"&&k.avatar?(A(),w("div",ol,[c(t(Le),{onClick:P}),c(t(K),{onClick:x})])):y("",!0),v.value?(A(),$(t(ze),{key:6,modelValue:v.value,"onUpdate:modelValue":Y[0]||(Y[0]=T=>v.value=T),scrollable:!1,title:"图片裁剪",size:"s",onOnSubmit:L},{default:D(()=>[c(fe,{ref_key:"cropRef",ref:_,"file-content":k.fileContent},null,8,["file-content"])]),_:1},8,["modelValue"])):y("",!0)],2))}}),sl=["accept","multiple"],ul={class:"picture-desc"},rl=I({name:"YkUpload",__name:"upload",props:{accept:{default:"*"},maxSize:{default:3*1024*1024},multiple:{type:Boolean,default:!0},limit:{default:0},uploadUrl:{default:""},shape:{default:"default"},fileList:{default:()=>[]},desc:{default:""},avatar:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1}},emits:["handleSuccess","handleDelete","handleError","handleBeforeUpload"],setup(f,{emit:m}){const l=W("upload"),s=f,n=m,E=C(!1),p=C(!1),F=C(),v=C(!1),_=Ee({name:"",url:"",uid:j(),status:"uploading"}),B=C(0),r=C(ie(s.fileList)),R=C(),b=new Map,x=N(()=>r.value.length),M=N(()=>r.value.map(o=>o.raw?URL.createObjectURL(o.raw):o.url)),P=N(()=>!!s.limit&&x.value>=s.limit);E.value=Te.some(a=>s.accept.includes(a))||s.avatar;const{proxy:L}=De(),k=async a=>{const o=a==null?void 0:a.name;if(!o){L.$message.error("文件上传失败，请重新选择文件");return}const i=j();r.value.push({name:o,status:"uploading",raw:a,uid:i});const S={uid:i,uploadUrl:s.uploadUrl,selectedFile:a,fileName:o,onSuccess:T,onError:q,onProgress:ee};b.set(i,We(S))},Y=a=>{r.value=[];const o=a==null?void 0:a.name;if(!o){L.$message.error("文件上传失败，请重新选择文件");return}const i=j();_.name=o,_.raw=a,_.uid=i,v.value=!0},T=(a,o)=>{L.$message.success("上传成功");const i=V(a,r.value);r.value[i].status="success",n("handleSuccess",o,r.value)},ee=(a,o)=>{const i=V(a,r.value);r.value[i].progress=o},q=(a,o)=>{L.$message.error(o||"上传失败");const i=V(a,r.value);r.value[i].status="error",n("handleError",o,r.value)},H=async()=>{var a;P.value||(a=R.value)==null||a.click()},G=a=>(n("handleBeforeUpload",a),s.maxSize&&a.size>s.maxSize?(L.$message.error("超出限制大小，请压缩后上传"),!1):s.limit&&s.limit<=x.value?(L.$message.error("数量超出限制"),!1):!0),le=a=>{const o=Array.from(a.target.files);if(o.length){if(s.avatar){G(o[0]),Y(o[0]);return}o.forEach(i=>{const S=G(i);i&&S&&k(i)}),a.target.value=""}},z=a=>{const o=V(a,r.value),i=b.get(a);i!=null&&i.abort&&(i.abort(),r.value[o].status="pause",L.$message.error("用户中断上传"))},J=a=>{r.value.splice(V(a,r.value),1),n("handleDelete",r.value),L.$message.success("已删除")},Z=a=>{const o=V(a,r.value),i=r.value[o].raw;r.value.splice(o,1),k(i)},te=(a,o)=>{const i=V(o,r.value),S=r.value[i].name;r.value.splice(V(o,r.value),1);const ae=de(a,S);k(ae)},d=a=>{const o=V(a,r.value);B.value=o,p.value=!0},u=a=>{a.forEach(o=>{k(o)})},h=async()=>{const{blobRaw:a}=await F.value.handleCrop(),o=de(a,_.name);k(o),v.value=!1};return se(()=>s.fileList,()=>{r.value=ie(s.fileList)}),(a,o)=>(A(),w(oe,null,[e("div",{class:g(t(l)())},[e("input",{ref_key:"inputRef",ref:R,style:{display:"none"},accept:a.accept,multiple:a.multiple,type:"file",onChange:le,onClick:o[0]||(o[0]=O(()=>{},["stop"]))},null,40,sl),E.value?y("",!0):(A(),w("div",{key:0,class:g(t(l)("files"))},[a.draggable?y("",!0):(A(),w("div",{key:0,class:g(t(l)("file"))},[c(t(we),{class:g(t(l)("file-button")),type:"secondary",disabled:P.value,onClick:H},{default:D(()=>[c(t(pe),{class:g(t(l)("file-icon"))},null,8,["class"]),o[4]||(o[4]=e("div",null,"上传文件",-1))]),_:1},8,["class","disabled"]),c(t(Ce),{type:"third"},{default:D(()=>[U(Q(a.desc),1)]),_:1})],2)),a.draggable?(A(),w("div",{key:1,class:g(t(l)("draggle"))},[c(qe,{desc:a.desc,disabled:P.value,accept:a.accept,onHandleUpload:H,onHandleDraggleFiles:u},null,8,["desc","disabled","accept"])],2)):y("",!0),r.value.length?(A(),w("div",{key:2,class:g(t(l)("file-list"))},[(A(!0),w(oe,null,re(r.value,i=>(A(),$(Ze,{key:i.uid,"file-content":i,progress:i.progress,onHandleRemove:J,onHandleReUpload:Z,onHandleAbort:z},null,8,["file-content","progress"]))),128))],2)):y("",!0)],2)),E.value&&!a.draggable?(A(),$(t(_e),{key:1,wrap:"",size:8},{default:D(()=>[(A(!0),w(oe,null,re(r.value,i=>(A(),w("span",{class:g(t(l)("picture"))},[(A(),$(nl,{key:i.uid,"file-content":i,"is-picture":E.value,progress:i.progress,shape:a.shape,avatar:a.avatar,onHandleRemove:J,onHandleReUpload:Z,onHandleUpload:H,onHandleAbort:z,onHandleEdit:te,onHandleReview:d},null,8,["file-content","is-picture","progress","shape","avatar"]))],2))),256)),!(a.avatar&&x.value)&&!P.value?(A(),w("div",{key:0,class:g([t(l)("picture-button",{disabled:P.value},[a.shape])]),onClick:H},[e("div",ul,[c(t(Ae),{class:g(t(l)("picture-button-icon"))},null,8,["class"]),a.desc?(A(),w("span",{key:0,class:g(t(l)("picture-button-desc"))},Q(a.desc),3)):y("",!0)])],2)):y("",!0)]),_:1})):y("",!0)],2),c(t(Ne),{visible:p.value,"onUpdate:visible":o[1]||(o[1]=i=>p.value=i),current:B.value,"onUpdate:current":o[2]||(o[2]=i=>B.value=i),"src-list":M.value,"is-render":!1,width:"300",height:"200",fit:"cover"},null,8,["visible","current","src-list"]),v.value?(A(),$(t(je),{key:0,modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=i=>v.value=i),scrollable:!1,title:"图片裁剪",size:"s",onOnSubmit:h},{default:D(()=>[c(fe,{ref_key:"cropRef",ref:F,"file-content":_},null,8,["file-content"])]),_:1},8,["modelValue"])):y("",!0)],64))}}),cl=Fe(rl),X=cl,il="https://www.huohuo90.com:3005/upload",dl=I({__name:"upload-primary",setup(f){const m=C([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(l,s)=>{const n=X;return A(),$(n,{"upload-url":il,"file-list":m.value,desc:"上传内容要求","max-size":0},null,8,["file-list"])}}}),pl="https://www.huohuo90.com:3005/upload",Al=I({__name:"upload-single-file",setup(f){const m=C([]);return(l,s)=>{const n=X;return A(),$(n,{"upload-url":pl,multiple:!1,"file-list":m.value,desc:"仅允许逐个上传文件"},null,8,["file-list"])}}}),ml="https://www.huohuo90.com:3005/upload",fl=I({__name:"upload-limit",setup(f){const m=C([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]);return(l,s)=>{const n=X;return A(),$(n,{"upload-url":ml,"file-list":m.value,limit:3,desc:"限制上传三个文件，此demo演示上传失败"},null,8,["file-list"])}}}),hl="https://www.huohuo90.com:3005/upload",vl=I({__name:"upload-picture",setup(f){const m=C([]);return(l,s)=>{const n=X;return A(),w("div",null,[c(n,{"upload-url":hl,"file-list":m.value,accept:"image/*"},null,8,["file-list"])])}}}),gl="https://www.huohuo90.com:3005/upload",El=I({__name:"upload-picture-circle",setup(f){const m=C([{name:"默认图片",url:"https://www.huohuo90.com:3005/logo/yike.png"}]);return(l,s)=>{const n=X;return A(),w("div",null,[c(n,{"upload-url":gl,"file-list":m.value,shape:"circle",accept:"image/*",desc:"上传图片",limit:2},null,8,["file-list"])])}}}),wl="https://www.huohuo90.com:3005/upload",Cl=I({__name:"upload-avatar",setup(f){const m=C([{name:"默认图片",url:"https://www.huohuo90.com:3005/logo/dafei.jpg"}]);return(l,s)=>{const n=X;return A(),w("div",null,[c(n,{"upload-url":wl,"file-list":m.value,shape:"circle",accept:"image/*",avatar:!0},null,8,["file-list"])])}}}),_l="https://www.huohuo90.com:3005/upload",Dl=I({__name:"upload-draggle",setup(f){const m=C([]);return(l,s)=>{const n=X;return A(),w("div",null,[c(n,{"upload-url":_l,"file-list":m.value,accept:"*",desc:"上传内容要求",draggable:!0},null,8,["file-list"])])}}}),Fl="https://www.huohuo90.com:3005/upload",bl=I({__name:"upload-callback",setup(f){const m=C([{url:"https://www.huohuo90.com:3005/logo/yike.png",name:"默认图片"}]),l=(p,F)=>{console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ currentList:",F),console.log("🚀 ~ file: upload-callback.vue:20 ~ handleSuccess ~ res:",p)},s=(p,F)=>{console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ currentList:",F),console.log("🚀 ~ file: upload-callback.vue:28 ~ handleError ~ error:",p)},n=p=>{console.log("🚀 ~ file: upload-callback.vue:36 ~ handleBeforeUpload ~ file:",p)},E=p=>{console.log("🚀 ~ file: upload-callback.vue:43 ~ handleDelete ~ currentList:",p)};return(p,F)=>{const v=X;return A(),$(v,{"upload-url":Fl,"file-list":m.value,desc:"上传内容要求","max-size":0,onHandleSuccess:l,onHandleError:s,onHandleBeforeUpload:n,onHandleDelete:E},null,8,["file-list"])}}}),Xl={__name:"doc",setup(f){return(m,l)=>{const s=ne("yk-title"),n=ne("yk-snippet"),E=ne("DocPage");return A(),$(E,null,{default:D(()=>[c(s,{level:2,id:"YkUpload-文件上传"},{default:D(()=>l[0]||(l[0]=[U("YkUpload 文件上传")])),_:1}),c(n,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(dl)]),desc:D(()=>l[1]||(l[1]=[e("p",null,"文件列表上传",-1)])),_:1}),c(n,{title:"单文件上传",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Amultiple%3D%22false%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%BB%85%E5%85%81%E8%AE%B8%E9%80%90%E4%B8%AA%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(Al)]),desc:D(()=>l[2]||(l[2]=[e("p",null,[U("通过 "),e("code",null,"multiple"),U(" 控制是否能够上传多文件，默认为 true")],-1)])),_:1}),c(n,{title:"文件数量限制",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%3Alimit%3D%223%22%0A%20%20%20%20desc%3D%22%E9%99%90%E5%88%B6%E4%B8%8A%E4%BC%A0%E4%B8%89%E4%B8%AA%E6%96%87%E4%BB%B6%EF%BC%8C%E6%AD%A4demo%E6%BC%94%E7%A4%BA%E4%B8%8A%E4%BC%A0%E5%A4%B1%E8%B4%A5%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2F192.168.1.207%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(fl)]),desc:D(()=>l[3]||(l[3]=[e("p",null,[U("通过 "),e("code",null,"limit"),U(" 控制文件上传数量限制")],-1)])),_:1}),c(n,{title:"图片上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(vl)]),desc:D(()=>l[4]||(l[4]=[e("p",null,[U("通过 "),e("code",null,"accept"),U(" 判断是否仅上传图片，若接受对象包含 "),e("code",null,"image"),U(" 、 "),e("code",null,"png"),U(" 、 "),e("code",null,"jpg/jpeg"),U(" ，则采用图片列表上传 UI")],-1)])),_:1}),c(n,{title:"图片列表样式及限制数量",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87%22%0A%20%20%20%20%20%20%3Alimit%3D%222%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.foder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(El)]),desc:D(()=>l[5]||(l[5]=[e("p",null,[U("通过 "),e("code",null,"limit"),U(" 控制图片上限、通过 "),e("code",null,"shape"),U(" 修改列表风格")],-1)])),_:1}),c(n,{title:"头像上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20shape%3D%22circle%22%0A%20%20%20%20%20%20accept%3D%22image%2F*%22%0A%20%20%20%20%20%20%3Aavatar%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fdafei.jpg'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(Cl)]),desc:D(()=>l[6]||(l[6]=[e("p",null,[U("通过传入 "),e("code",null,"avatar"),U(" 进行头像上传，只允许上传一张图片且上传后允许通过裁剪重新上传")],-1)])),_:1}),c(n,{title:"拖拽上传",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%3E%0A%20%20%20%20%3Cyk-upload%0A%20%20%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20%20%20accept%3D%22*%22%0A%20%20%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%20%20%3Adraggable%3D%22true%22%0A%20%20%20%20%3E%3C%2Fyk-upload%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(Dl)]),desc:D(()=>l[7]||(l[7]=[e("p",null,[U("通过传入 "),e("code",null,"draggle"),U(" 将 UI 变更为拖拽区，文件列表与常规文件一致，允许通过拖拽上传文件")],-1)])),_:1}),c(n,{title:"回调函数",code:"%3Ctemplate%3E%0A%20%20%3Cyk-upload%0A%20%20%20%20%3Aupload-url%3D%22uploadUrl%22%0A%20%20%20%20%3Afile-list%3D%22fileUrl%22%0A%20%20%20%20desc%3D%22%E4%B8%8A%E4%BC%A0%E5%86%85%E5%AE%B9%E8%A6%81%E6%B1%82%22%0A%20%20%20%20%3Amax-size%3D%220%22%0A%20%20%20%20%40handle-success%3D%22handleSuccess%22%0A%20%20%20%20%40handle-error%3D%22handleError%22%0A%20%20%20%20%40handle-before-upload%3D%22handleBeforeUpload%22%0A%20%20%20%20%40handle-delete%3D%22handleDelete%22%0A%20%20%3E%3C%2Fyk-upload%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%2F%2F%20const%20uploadUrl%20%3D%20'http%3A%2F%2Fchat.finecoder.cn%3A3976%2Fupload'%0Aconst%20uploadUrl%20%3D%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Fupload'%0Aconst%20fileUrl%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20url%3A%20'https%3A%2F%2Fwww.huohuo90.com%3A3005%2Flogo%2Fyike.png'%2C%0A%20%20%20%20name%3A%20'%E9%BB%98%E8%AE%A4%E5%9B%BE%E7%89%87'%2C%0A%20%20%7D%2C%0A%5D)%0Aconst%20handleSuccess%20%3D%20(res%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A20%20~%20handleSuccess%20~%20res%3A'%2C%20res)%0A%7D%0Aconst%20handleError%20%3D%20(error%2C%20currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%20%20console.log('%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A28%20~%20handleError%20~%20error%3A'%2C%20error)%0A%7D%0Aconst%20handleBeforeUpload%20%3D%20(file)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A36%20~%20handleBeforeUpload%20~%20file%3A'%2C%0A%20%20%20%20file%2C%0A%20%20)%0A%7D%0Aconst%20handleDelete%20%3D%20(currentList)%20%3D%3E%20%7B%0A%20%20console.log(%0A%20%20%20%20'%F0%9F%9A%80%20~%20file%3A%20upload-callback.vue%3A43%20~%20handleDelete%20~%20currentList%3A'%2C%0A%20%20%20%20currentList%2C%0A%20%20)%0A%7D%0A%3C%2Fscript%3E%0A"},{demo:D(()=>[c(bl)]),desc:D(()=>l[8]||(l[8]=[e("p",null,"目前支持上传前、上传成功、上传失败、删除文件四个钩子",-1)])),_:1}),c(s,{level:3,id:"API"},{default:D(()=>l[9]||(l[9]=[U("API")])),_:1}),l[11]||(l[11]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"accept"),e("td",null,"接受文件类型"),e("td",null,"accept"),e("td",null,"*")]),e("tr",null,[e("td",null,"maxSize"),e("td",null,"文件大小限制"),e("td",null,"number"),e("td",null,"3*1024*1024(3M)")]),e("tr",null,[e("td",null,"multiple"),e("td",null,"是否允许多文件上传"),e("td",null,"boolean"),e("td",null,"true")]),e("tr",null,[e("td",null,"limit"),e("td",null,"控制文件上传数量"),e("td",null,"number"),e("td",null,"0")]),e("tr",null,[e("td",null,"shape"),e("td",null,"图片列表形状"),e("td",null,"'default' | 'circle'"),e("td",null,"'default'")]),e("tr",null,[e("td",null,"uploadUrl"),e("td",null,"文件上传路径"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"fileList"),e("td",null,"当前文件列表"),e("td",null,[e("code",null,"{name:'file-name',url:'url'}[]")]),e("td",null,"[]")]),e("tr",null,[e("td",null,"desc"),e("td",null,"文件上传提示"),e("td",null,"string"),e("td",null,"''")]),e("tr",null,[e("td",null,"avatar"),e("td",null,"是否上传头像"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"draggable"),e("td",null,"是否采用拖拽上传交互"),e("td",null,"boolean"),e("td",null,"false")])])])],-1)),c(s,{level:3,id:"钩子"},{default:D(()=>l[10]||(l[10]=[U("钩子")])),_:1}),l[12]||(l[12]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"方法"),e("th",null,"描述"),e("th",null,"出参类型")])]),e("tbody",null,[e("tr",null,[e("td",null,"handleSuccess"),e("td",null,"成功回调"),e("td",null,"(res:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleDelete"),e("td",null,"删除回调"),e("td",null,"(currentList:File[])")]),e("tr",null,[e("td",null,"handleError"),e("td",null,"错误回调"),e("td",null,"(err:response,currentList:File[])")]),e("tr",null,[e("td",null,"handleBeforeUpload"),e("td",null,"上传前回调"),e("td",null,"(file:File)")])])])],-1))]),_:1})}}};export{Xl as default};
