import{d as x,r as h,a0 as Y,R as U,c as f,o as c,a as D,F as T,h as W,n as A,v as E,U as X,X as q,b as e,e as m,N as z,W as G,x as J,k as _,w as a,i as n,s as R,a2 as K,g as b,j as r}from"./index-f159d33e.js";import{I as O}from"./index-c3c9fd30.js";const Q=["onAnimationend"],Z=["onMouseenter","onClick"],ee=x({name:"YkRate",__name:"rate",props:{count:{default:5},modelValue:{default:0},defaultValue:{default:0},allowHalf:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},grading:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{default:""},icon:{default:O},size:{default:"l"}},emits:["update:modelValue","change","hover-change"],setup(v,{emit:d}){const l=h(0),u=h(0),o=h(!1),s=v,g=Y("rate"),y=d;U(()=>{s.defaultValue&&(l.value=Number(s.defaultValue),u.value=Number(s.defaultValue)),s.modelValue&&(l.value=Number(s.modelValue),u.value=Number(s.modelValue))}),f(()=>({"yk-rate-disabled":s.disabled,"yk-rate-readonly":s.readonly}));const B=f(()=>Number(s.count)),F=f(()=>s.disabled||s.readonly),H=f(()=>t=>o.value?{animationDelay:`${50*t}ms`}:void 0),I=f(()=>t=>[" yk-rate-item",o.value&&u.value>t?"yk-rate-item--animation":""].join(" ")),w=f(()=>`yk-rate-icon-${s.size}`),L=f(()=>t=>["yk-rate-half",l.value+.5===t?"yk-rate-half--select":""].join(" ")),N=f(()=>["yk-rate-half-icon",w.value].join(" ")),M=f(()=>t=>["yk-rate-icon",l.value>=t?"yk-rate-icon--select":"",w.value].join(" ")),S=()=>{l.value=u.value},$=t=>{F.value||(l.value=t,y("hover-change",t))},V=t=>{if(!F.value){if(o.value=!0,s.allowClear&&u.value===t){u.value=0;return}u.value=t,P(t)}},j=t=>{o.value&&t==Math.ceil(u.value)-1&&(o.value=!1)},P=t=>{s.modelValue&&(y("update:modelValue",t),y("change",t))};return(t,C)=>(c(),D("div",{class:A(G(g)([t.size],{disabled:t.disabled,readonly:t.readonly})),onMouseleave:C[0]||(C[0]=i=>S())},[(c(!0),D(T,null,W(B.value,i=>(c(),D("div",{key:i,class:A(I.value(i)),style:E(H.value(i)),onAnimationend:k=>j(i)},[X(e("div",{class:A(L.value(i)),style:E({color:t.color}),onMouseenter:k=>$(i-.5),onClick:k=>V(i-.5)},[(c(),m(z(t.icon),{class:A(N.value),style:E({color:t.color})},null,8,["class","style"]))],46,Z),[[q,t.allowHalf]]),(c(),m(z(t.icon),{class:A(M.value(i)),style:E({color:l.value>=i&&t.color?t.color:""}),onMouseenter:k=>$(i),onClick:k=>V(i)},null,40,["class","style","onMouseenter","onClick"]))],46,Q))),128))],34))}}),le=J(ee),p=le,te={};function ne(v,d){const l=p;return c(),m(l)}const ae=_(te,[["render",ne]]),oe={};function se(v,d){const l=p,u=R;return c(),m(u,{dir:"vertical"},{default:a(()=>[n(l,{size:"s"}),n(l,{size:"m"}),n(l,{size:"l"}),n(l,{size:"xl"})]),_:1})}const ue=_(oe,[["render",se]]),re={};function ce(v,d){const l=p;return c(),m(l,{"allow-half":""})}const de=_(re,[["render",ce]]),ie={};function me(v,d){const l=p,u=R;return c(),m(u,{dir:"vertical"},{default:a(()=>[n(l,{color:"red"}),n(l,{color:"green"})]),_:1})}const ve=_(ie,[["render",me]]),fe={};function pe(v,d){const l=p;return c(),m(l,{"default-value":"3",readonly:""})}const _e=_(fe,[["render",pe]]),ye={};function Ce(v,d){const l=p;return c(),m(l,{"allow-clear":""})}const Ae=_(ye,[["render",Ce]]),ke={};function Ee(v,d){const l=p;return c(),m(l,{count:"10"})}const he=_(ke,[["render",Ee]]),ge=x({__name:"rate-all",setup(v){const d=h(2);K(()=>d.value,o=>{console.log("value-change",o)});const l=o=>{console.log("handleHoverChange",o)},u=o=>{console.log("change",o)};return(o,s)=>{const g=p;return c(),m(g,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=y=>d.value=y),count:"10","allow-clear":"","allow-half":"",color:"#f56c6c",icon:"IconHeartFill",onHoverChange:l,onChange:u},{character:a(()=>s[1]||(s[1]=[e("div",null,"哈",-1)])),_:1},8,["modelValue"])}}}),Fe={__name:"doc",setup(v){return(d,l)=>{const u=b("yk-title"),o=b("yk-snippet"),s=b("DocPage");return c(),m(s,null,{default:a(()=>[n(u,{level:2,id:"YkRate-评分"},{default:a(()=>l[0]||(l[0]=[r("YkRate 评分")])),_:1}),n(o,{title:"基本用法",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(ae)]),desc:a(()=>l[1]||(l[1]=[e("p",null,"评分组件基本用法。",-1)])),_:1}),n(o,{title:"尺寸 size",code:"%3Ctemplate%3E%0A%20%20%3Cyk-space%20dir%3D%22vertical%22%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22s%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22m%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22l%22%20%2F%3E%0A%20%20%20%20%3Cyk-rate%20size%3D%22xl%22%20%2F%3E%0A%20%20%3C%2Fyk-space%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(ue)]),desc:a(()=>l[2]||(l[2]=[e("p",null,[r("按钮分为："),e("code",null,"s"),r("、"),e("code",null,"m"),r("、"),e("code",null,"l"),r("、"),e("code",null,"xl"),r(" 四种尺寸。高度分别为："),e("code",null,"14px"),r("、"),e("code",null,"18px"),r("、"),e("code",null,"22px"),r("、"),e("code",null,"26px"),r("。默认尺寸为 "),e("code",null,"l"),r("。")],-1)])),_:1}),n(o,{title:"半选",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20allow-half%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(de)]),desc:a(()=>l[3]||(l[3]=[e("p",null,"指定 allow-half 来开启半选。",-1)])),_:1}),n(o,{title:"自定义颜色",code:"%3Ctemplate%3E%0A%20%20%3Cyk-space%20dir%3D%22vertical%22%3E%0A%20%20%20%20%3Cyk-rate%20color%3D%22red%22%3E%3C%2Fyk-rate%3E%0A%20%20%20%20%3Cyk-rate%20color%3D%22green%22%3E%3C%2Fyk-rate%3E%0A%20%20%3C%2Fyk-space%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(ve)]),desc:a(()=>l[4]||(l[4]=[e("p",null,"通过 color 可以自定义颜色。另外可以通过对象形式自定义不同分值时的颜色。",-1)])),_:1}),n(o,{title:"只读模式",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20default-value%3D%223%22%20readonly%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(_e)]),desc:a(()=>l[5]||(l[5]=[e("p",null,"通过设置 readonly 属性让评分组件为只读状态。",-1)])),_:1}),n(o,{title:"支持清除",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20allow-clear%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(Ae)]),desc:a(()=>l[6]||(l[6]=[e("p",null,"通过设置 allow-clear 来允许清除评分。",-1)])),_:1}),n(o,{title:"任意长度的评分",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%20count%3D%2210%22%20%2F%3E%0A%3C%2Ftemplate%3E%0A"},{demo:a(()=>[n(he)]),desc:a(()=>l[7]||(l[7]=[e("p",null,"通过指定 count 来指定任意长度的评分组件。",-1)])),_:1}),n(o,{title:"全部功能",code:"%3Ctemplate%3E%0A%20%20%3Cyk-rate%0A%20%20%20%20v-model%3D%22value%22%0A%20%20%20%20count%3D%2210%22%0A%20%20%20%20allow-clear%0A%20%20%20%20allow-half%0A%20%20%20%20color%3D%22%23f56c6c%22%0A%20%20%20%20icon%3D%22IconHeartFill%22%0A%20%20%20%20%40hover-change%3D%22handleHoverChange%22%0A%20%20%20%20%40change%3D%22change%22%0A%20%20%3E%0A%20%20%20%20%3Ctemplate%20%23character%3E%0A%20%20%20%20%20%20%3Cdiv%3E%E5%93%88%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2Fyk-rate%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20lang%3D%22ts%22%20setup%3E%0Aimport%20%7B%20ref%2C%20watch%20%7D%20from%20'vue'%0Aconst%20value%20%3D%20ref(2)%0Awatch(%0A%20%20()%20%3D%3E%20value.value%2C%0A%20%20(val)%20%3D%3E%20%7B%0A%20%20%20%20console.log('value-change'%2C%20val)%0A%20%20%7D%2C%0A)%0Aconst%20handleHoverChange%20%3D%20(n)%20%3D%3E%20%7B%0A%20%20console.log('handleHoverChange'%2C%20n)%0A%7D%0Aconst%20change%20%3D%20(n)%20%3D%3E%20%7B%0A%20%20console.log('change'%2C%20n)%0A%7D%0A%3C%2Fscript%3E%0A"},{demo:a(()=>[n(ge)]),desc:a(()=>l[8]||(l[8]=[e("p",null,null,-1)])),_:1}),n(u,{level:3,id:"API"},{default:a(()=>l[9]||(l[9]=[r("API")])),_:1}),l[11]||(l[11]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"参数"),e("th",null,"描述"),e("th",null,"类型"),e("th",null,"默认值")])]),e("tbody",null,[e("tr",null,[e("td",null,"count"),e("td",null,"评分的总数"),e("td",null,"string ｜ number"),e("td",null,"5")]),e("tr",null,[e("td",null,"size"),e("td",null,"尺寸"),e("td",null,[e("code",null,"s"),r("｜"),e("code",null,"m"),r("｜"),e("code",null,"l"),r("｜"),e("code",null,"xl")]),e("td",null,[e("code",null,"'l'")])]),e("tr",null,[e("td",null,"model-value (v-model)"),e("td",null,"绑定值"),e("td",null,"string ｜ number"),e("td",null,"-")]),e("tr",null,[e("td",null,"default-value"),e("td",null,"默认值"),e("td",null,"string ｜ number"),e("td",null,"0")]),e("tr",null,[e("td",null,"allow-half"),e("td",null,"是否允许半选"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"allow-clear"),e("td",null,"是否允许清除"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"readonly"),e("td",null,"是否为只读状态"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"disabled"),e("td",null,"是否禁用"),e("td",null,"boolean"),e("td",null,"false")]),e("tr",null,[e("td",null,"color"),e("td",null,"颜色"),e("td",null,"string"),e("td",null,"-")]),e("tr",null,[e("td",null,"icon"),e("td",null,"Icon 组件"),e("td",null,"string"),e("td",null,"'yike-wujiaoxing'")])])])],-1)),n(u,{level:3,id:"Events"},{default:a(()=>l[10]||(l[10]=[r("Events")])),_:1}),l[12]||(l[12]=e("div",{class:"table-container"},[e("table",null,[e("thead",null,[e("tr",null,[e("th",null,"事件名"),e("th",null,"描述"),e("th",null,"参数")])]),e("tbody",null,[e("tr",null,[e("td",null,"change"),e("td",null,"值改变时触发"),e("td",null,"value: number")]),e("tr",null,[e("td",null,"hover-change"),e("td",null,"鼠标移动到数值上时触发"),e("td",null,"value: number")])])])],-1))]),_:1})}}};export{Fe as default};
